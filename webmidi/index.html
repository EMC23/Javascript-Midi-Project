
<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>p5.js example</title>
    <style> body {padding: 0; margin: 0;} </style>
    <script src="webmidi.min.js"></script>
    <script>
WebMidi.enable(function (err) {

  if (err) {
    console.log("WebMidi could not be enabled.", err);
  } else {
    console.log("WebMidi enabled!");

 console.log(WebMidi.inputs);
//    console.log(WebMidi.outputs);



  // Retrieve an input by name, id or index
  var input = WebMidi.getInputByName("Launch Control");
  input = WebMidi.getInputById("input-0");
  // = WebMidi.inputs[1];

  // Listen for a 'note on' message on all channels
//  input.addListener('noteon', "all",
//    function (e) {
 //     console.log("Received 'noteon' message (" + e.note.name + e.note.octave + ").");
 //   }
 // );

  // Listen to pitch bend message on channel 3
//  input.addListener('pitchbend', 3,
//    function (e) {
//      console.log("Received 'pitchbend' message.", e);
 //   }
//  );

  // Listen to control change message on all channels
  input.addListener('controlchange', "all",
    function (e) {
      console.log("Received 'controlchange' message.", e);
    }
  );

  // Check for the presence of an event listener (n such cases, you cannot use anonymous functions).
  function test(e) { 
  	console.log(e);

   }

//  input.addListener('programchange', 12, test);
 input.addListener('controlchange', "all",function(e) {
    console.log("Pitch value: " + e.value);
});
    
  
// console.log("Has event listener: ", input.hasListener('controlchange', 'all', test));


/*
input.addListener('pitchbend', "all", function(e) {
    console.log("Pitch value: " + e.value);
});


  // Remove a specific listener
  input.removeListener('programchange', 12, test);
//  console.log("Has event listener: ", input.hasListener('programchange', 12, test));

  // Remove all listeners of a specific type on a specific channel
  input.removeListener('noteoff', 12);

  // Remove all listeners for 'noteoff' on all channels
  input.removeListener('noteoff');

  // Remove all listeners on the input
  input.removeListener();
  */



}


});
</script>
  </head>
  <body>
  	Hi







  </body>
</html>



